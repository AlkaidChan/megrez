(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33b93801"],{3181:function(e,t,a){},b12b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PageView",[a("template",{slot:"header"},[a("div",{staticClass:"page-header-bar"},[a("div",{staticClass:"page-header-bar-text"},[a("span",{staticClass:"page-header-bar-title"},[e._v("当前主题")]),a("span",{staticClass:"page-header-bar-description"},[e._v(e._s(e.currentTheme))])]),a("span",{staticClass:"page-header-bar-operator"},[a("span",{staticClass:"page-header-bar-operator-item"},[a("t-button",{attrs:{theme:"primary",variant:"base"},on:{click:e.onClickSave}},[e._v("保存设置")])],1)])])]),a("template",{slot:"content"},[a("div",{staticClass:"theme-setting-container"},[0!=e.themeConfig.tabs.length?a("t-tabs",{attrs:{defaultValue:e.themeConfig.tabs[0].key}},e._l(e.themeConfig.tabs,(function(t){return a("t-tab-panel",{key:t.key,attrs:{value:t.key},scopedSlots:e._u([{key:"label",fn:function(){return[a("icon",{staticStyle:{"margin-right":"4px"},attrs:{name:"setting"}}),e._v(" "+e._s(t.name)+" ")]},proxy:!0}],null,!0)},[a("div",{staticClass:"setting-form-container"},[a("t-form",{ref:"form",refInFor:!0,attrs:{labelAlign:"top",colon:!0}},e._l(t.items,(function(t){return a("t-form-item",{key:t.key,attrs:{label:t.name,name:t.key,help:t.description}},["input"===t.type?a("t-input",{attrs:{placeholder:t.placeholder},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"textarea"===t.type?a("t-textarea",{attrs:{placeholder:t.placeholder,name:t.key,autosize:{minRows:6}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"select"===t.type?a("t-select",{attrs:{options:t.options},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"multiSelect"===t.type?a("t-select",{attrs:{multiple:"",minCollapsedNum:3,options:t.options},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"switch"===t.type?a("t-switch",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"tags"===t.type?a("t-tag-input",{attrs:{clearable:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),"image"===t.type?a("t-input-group",{attrs:{separate:""}},[a("t-input",{style:{width:"500px"},attrs:{placeholder:t.placeholder},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),a("t-button",{attrs:{theme:"primary",shape:"square",variant:"outline"},on:{click:e.openAttachDrawer}},[a("image-icon",{attrs:{slot:"icon"},slot:"icon"})],1)],1):e._e()],1)})),1)],1)])})),1):e._e(),a("AttachSelectDrawer")],1)])],2)},r=[],i=a("f646"),s=a("87eb"),o=a("c09c"),l=a("2b0e"),c=a("b25f"),u=a("6be3"),p=(a("4d26"),a("febf"),["size"]);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={tag:"svg",attrs:{fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M10 8a2 2 0 100-4 2 2 0 000 4zm0-1a1 1 0 100-2 1 1 0 000 2z",fillOpacity:.9,fillRule:"evenodd",clipRule:"evenodd"}},{tag:"path",attrs:{fill:"currentColor",d:"M2 13a1 1 0 001 1h10a1 1 0 001-1V3a1 1 0 00-1-1H3a1 1 0 00-1 1v10zm1-1.3l3-3 4.3 4.3H3v-1.3zm0-1.4V3h10v10h-1.3L6 7.3l-3 3z",fillOpacity:.9}}]},v=l["default"].extend({name:"ImageIcon",functional:!0,props:{size:{type:String},onClick:{type:Function}},render:function(e,t){var a=t.props,n=t.data,r=a.size,i=Object(o["a"])(a,p),s=Object(u["a"])(r),l=s.className,m=s.style,v=h(h({},i||{}),{},{id:"image",icon:f,staticClass:l,style:m});return n.props=v,e(c["a"],n)}}),b=a("f06c"),g=a("c8c3"),d={name:"ThemeSetting",data:function(){return{themeConfig:{tabs:[]},currentTheme:""}},methods:{openAttachDrawer:function(){this.$store.commit("OPEN_ATTACH_LIST_DRAWER")},onClickSave:function(){var e=this;this.$request.put("/theme/current/config",this.themeConfig).then((function(){e.$message.success("保存成功")})).catch((function(){e.$message.error("保存失败")}))},fetchConfig:function(){var e=this;this.$request.get("/theme/current/config").then((function(t){for(var a=0;a<e.themeConfig.tabs.length;a++)for(var n=0;n<e.themeConfig.tabs[a].items.length;n++)"multiSelect"!==e.themeConfig.tabs[a].items[n].type&&"tags"!==e.themeConfig.tabs[a].items[n].type||(e.themeConfig.tabs[a].items[n].value=[]);e.themeConfig=t.data}))},fetchTheme:function(){var e=this;this.$request.get("/theme/current/id").then((function(t){e.currentTheme=t.data}))}},beforeMount:function(){this.fetchConfig(),this.fetchTheme()},components:{Icon:i["a"],ImageIcon:v,AttachSelectDrawer:b["a"],PageView:g["a"]}},y=d,C=(a("ee77"),a("2877")),k=Object(C["a"])(y,n,r,!1,null,"372521cc",null);t["default"]=k.exports},ee77:function(e,t,a){"use strict";a("3181")}}]);
//# sourceMappingURL=chunk-33b93801.bdf95834.js.map