{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/components/attachment/AttachUploadDialog.vue?fab0","webpack:///./src/components/attachment/AttachDetailDrawer.vue?f803","webpack:///./src/layouts/BreadCrumb.vue?5aaa","webpack:///./src/components/attachment/AttachSelectDrawer.vue?c936","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/layouts/PageView.vue?58b3","webpack:///./src/layouts/BreadCrumb.vue?1381","webpack:///src/layouts/BreadCrumb.vue","webpack:///./src/layouts/BreadCrumb.vue?3670","webpack:///./src/layouts/BreadCrumb.vue?514d","webpack:///src/layouts/PageView.vue","webpack:///./src/layouts/PageView.vue?fa52","webpack:///./src/layouts/PageView.vue?67bf","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/layouts/PageView.vue?fc8c","webpack:///./src/components/attachment/AttachSelectDrawer.vue?5073","webpack:///./src/components/attachment/AttachUploadDialog.vue?14c7","webpack:///src/components/attachment/AttachUploadDialog.vue","webpack:///./src/components/attachment/AttachUploadDialog.vue?f138","webpack:///./src/components/attachment/AttachUploadDialog.vue?4da5","webpack:///./src/components/attachment/AttachDetailDrawer.vue?6600","webpack:///src/components/attachment/AttachDetailDrawer.vue","webpack:///./src/components/attachment/AttachDetailDrawer.vue?83be","webpack:///./src/components/attachment/AttachDetailDrawer.vue?94c4","webpack:///./node_modules/tdesign-icons-vue/esm/components/info-circle.js","webpack:///src/components/attachment/AttachSelectDrawer.vue","webpack:///./src/components/attachment/AttachSelectDrawer.vue?c249","webpack:///./src/components/attachment/AttachSelectDrawer.vue?6864"],"names":["global","DOMIterables","DOMTokenListPrototype","forEach","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","prototype","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","this","arguments","length","undefined","$","toAbsoluteIndex","toIntegerOrInfinity","lengthOfArrayLike","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","TypeError","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","splice","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","fails","METHOD_NAME","argument","method","call","render","_vm","_h","$createElement","_c","_self","staticClass","_t","staticRenderFns","attrs","_l","item","key","name","icon","_e","_v","_s","meta","title","data","computed","breadcrumbItems","$route","matched","items","push","components","Icon","component","$map","map","visible","close","scopedSlots","_u","fn","on","onClickUpload","slot","mode","selectedAttaches","onClickComplete","proxy","attach","index","id","style","selectedIndex","border","$event","handleSelect","mouseEnter","mouseLeave","url","directives","rawName","value","maskVisible","expression","stopPropagation","handlePreview","staticStyle","handleDetail","ref","syncData","handleUploadSuccess","handleUploadFail","uploadMethod","model","callback","$$v","files","methods","open","$message","success","$emit","Promise","file","percent","append","raw","deleteAttach","attachment","fileName","attachmentStorageType","size","height","width","uploadTime","copyURL","copyMarkdown","type","info","$copyText","_excluded","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","i","source","getOwnPropertyDescriptors","defineProperties","defineProperty","InfoCircle","extend","functional","props","String","onClick","Function","createElement","context","otherProps","_useSizeProps","className","fullProps","num","attachments","required","default","$refs","attachUploadDialog","$request","$set","attachDetailDrawer","$viewerApi","images","warning","indexOf","mounted","AttachUploadDialog","AttachDetailDrawer","InfoCircleIcon","BrowseIcon","UploadIcon"],"mappings":"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","file":"js/chunk-16152f1e.ed3aafd6.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es-x/no-array-prototype-foreach -- safe\n} : [].forEach;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachUploadDialog.vue?vue&type=style&index=0&id=65d582b0&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachDetailDrawer.vue?vue&type=style&index=0&id=6fcb340a&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreadCrumb.vue?vue&type=style&index=0&id=0934365c&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachSelectDrawer.vue?vue&type=style&index=0&id=12cc894a&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar TypeError = global.TypeError;\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call -- required for testing\n    method.call(null, argument || function () { return 1; }, 1);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-view\"},[_c('div',{staticClass:\"page-header\"},[_c('BreadCrumb'),_vm._t(\"header\")],2),_c('t-content',{staticClass:\"content-wrapper\"},[_vm._t(\"content\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breadcrumb-container\"},[_c('t-breadcrumb',{attrs:{\"maxItemWidth\":'150'}},_vm._l((this.breadcrumbItems),function(item){return _c('t-breadcrumbItem',{key:item.name},[(item.name === 'Index')?_c('icon',{attrs:{\"name\":_vm.icon}}):_vm._e(),_vm._v(\" \"+_vm._s(item.meta.title))],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"breadcrumb-container\">\r\n    <t-breadcrumb :maxItemWidth=\"'150'\">\r\n      <t-breadcrumbItem v-for=\"item in this.breadcrumbItems\" :key=\"item.name\">\r\n        <icon :name=\"icon\" v-if=\"item.name === 'Index'\" />\r\n        {{ item.meta.title }}</t-breadcrumbItem\r\n      >\r\n    </t-breadcrumb>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Icon } from \"tdesign-icons-vue\";\r\nexport default {\r\n  name: \"BreadCrumb\",\r\n  data() {\r\n    return {\r\n      icon: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    breadcrumbItems() {\r\n      let items = [];\r\n      this.$route.matched.forEach((item) => {\r\n        items.push(item);\r\n        if (item.meta.icon) {\r\n          this.icon = item.meta.icon;\r\n        }\r\n      });\r\n      return items;\r\n    },\r\n  },\r\n  components: {\r\n    Icon,\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.breadcrumb-container {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 48px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreadCrumb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreadCrumb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BreadCrumb.vue?vue&type=template&id=0934365c&scoped=true&\"\nimport script from \"./BreadCrumb.vue?vue&type=script&lang=js&\"\nexport * from \"./BreadCrumb.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BreadCrumb.vue?vue&type=style&index=0&id=0934365c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0934365c\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"page-view\">\r\n    <div class=\"page-header\">\r\n      <BreadCrumb></BreadCrumb>\r\n      <slot name=\"header\"></slot>\r\n    </div>\r\n    <t-content class=\"content-wrapper\">\r\n      <slot name=\"content\" />\r\n    </t-content>\r\n  </div>\r\n</template>\r\n<script>\r\nimport BreadCrumb from \"@/layouts/BreadCrumb.vue\";\r\nexport default {\r\n  name: \"PageView\",\r\n  components: { BreadCrumb },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import \"@/style/variables\";\r\n.content-wrapper {\r\n  padding: 24px;\r\n}\r\n.page-header {\r\n  background-color: @bg-color-container;\r\n  padding: 0 24px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n  .page-title {\r\n    font-size: 18px;\r\n    font-weight: 500;\r\n    color: #333;\r\n  }\r\n  .page-actions {\r\n    display: flex;\r\n    align-items: center;\r\n    .action-item {\r\n      margin-left: 16px;\r\n      color: #333;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      cursor: pointer;\r\n      transition: color 0.2s cubic-bezier(0.38, 0, 0.24, 1);\r\n      &:hover {\r\n        color: #1890ff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageView.vue?vue&type=template&id=a9fb7624&scoped=true&\"\nimport script from \"./PageView.vue?vue&type=script&lang=js&\"\nexport * from \"./PageView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageView.vue?vue&type=style&index=0&id=a9fb7624&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a9fb7624\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageView.vue?vue&type=style&index=0&id=a9fb7624&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('t-drawer',{attrs:{\"header\":\"附件列表\",\"visible\":_vm.visible,\"onClose\":_vm.close,\"closeBtn\":true,\"size\":\"400px\",\"zIndex\":2600,\"onOverlayClick\":_vm.close,\"placement\":\"right\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('t-button',{on:{\"click\":_vm.onClickUpload}},[_c('UploadIcon',{attrs:{\"slot\":\"icon\"},slot:\"icon\"}),_vm._v(\" 上传附件 \")],1),(_vm.mode === 'multiple')?_c('span',{staticClass:\"complete-button\"},[(_vm.selectedAttaches.length > 0)?_c('t-button',{attrs:{\"theme\":\"danger\"},on:{\"click\":_vm.onClickComplete}},[_vm._v(\" 完成 \")]):_c('t-button',{attrs:{\"theme\":\"danger\",\"disabled\":\"\"}},[_vm._v(\"完成\")])],1):_vm._e()]},proxy:true}])},[_c('div',{staticClass:\"images-wrapper\"},_vm._l((_vm.attachments),function(attach,index){return _c('div',{key:attach.id,staticClass:\"image-item\",style:(_vm.selectedIndex[index] ? { border: '5px solid #1890ff' } : {}),on:{\"click\":function($event){return _vm.handleSelect(attach, index)},\"mouseenter\":function($event){return _vm.mouseEnter(index)},\"mouseleave\":function($event){return _vm.mouseLeave(index)}}},[_c('img',{attrs:{\"src\":attach.url}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.maskVisible[index]),expression:\"maskVisible[index]\"}],staticClass:\"image-item-mask\"},[_c('div',{on:{\"click\":function($event){$event.stopPropagation();return _vm.handlePreview(attach)}}},[_c('BrowseIcon',{staticStyle:{\"cursor\":\"pointer\"}})],1),_c('t-divider',{attrs:{\"layout\":\"vertical\"}}),_c('div',{on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDetail(attach)}}},[_c('InfoCircleIcon',{staticStyle:{\"cursor\":\"pointer\"}})],1)],1)])}),0)]),_c('AttachDetailDrawer',{ref:\"attachDetailDrawer\"}),_c('AttachUploadDialog',{ref:\"attachUploadDialog\",on:{\"uploadSuccess\":_vm.syncData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('t-dialog',{attrs:{\"visible\":_vm.visible,\"header\":null,\"confirmBtn\":null,\"cancelBtn\":null,\"onClose\":_vm.close,\"zIndex\":2601}},[_c('div',{staticClass:\"upload-container\"},[_c('t-upload',{attrs:{\"theme\":\"image\",\"onSuccess\":_vm.handleUploadSuccess,\"onFail\":_vm.handleUploadFail,\"requestMethod\":_vm.uploadMethod,\"draggable\":\"\",\"accept\":\"image/*\"},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <t-dialog\r\n    :visible=\"visible\"\r\n    :header=\"null\"\r\n    :confirmBtn=\"null\"\r\n    :cancelBtn=\"null\"\r\n    :onClose=\"close\"\r\n    :zIndex=\"2601\"\r\n  >\r\n    <div class=\"upload-container\">\r\n      <t-upload\r\n        v-model=\"files\"\r\n        theme=\"image\"\r\n        :onSuccess=\"handleUploadSuccess\"\r\n        :onFail=\"handleUploadFail\"\r\n        :requestMethod=\"uploadMethod\"\r\n        draggable\r\n        accept=\"image/*\"\r\n      ></t-upload>\r\n    </div>\r\n  </t-dialog>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"AttachUploadDialog\",\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      files: [],\r\n    };\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    open() {\r\n      this.visible = true;\r\n    },\r\n    close() {\r\n      this.visible = false;\r\n    },\r\n    handleUploadFail() {\r\n      this.$message.error(\"上传失败\");\r\n    },\r\n    handleUploadSuccess() {\r\n      this.$message.success(\"上传成功\");\r\n      this.$emit(\"uploadSuccess\");\r\n      this.files = [];\r\n      this.close();\r\n    },\r\n    uploadMethod(file) {\r\n      return new Promise((resolve) => {\r\n        // file.percent 用于控制上传进度，如果不希望显示上传进度，则不对 file.percent 设置值即可。\r\n        // 如果代码规范不能设置 file.percent，也可以设置 this.files\r\n        file.percent = 0;\r\n        let data = new FormData();\r\n        data.append(\"file\", file.raw);\r\n        this.$request\r\n          .post(\"upload\", data, {\r\n            headers: { \"Content-Type\": \"multipart/form-data\" },\r\n          })\r\n          .then((res) => {\r\n            if (res.status === 0) {\r\n              resolve({\r\n                status: \"success\",\r\n                response: {\r\n                  url: res.data.url,\r\n                },\r\n              });\r\n            }\r\n          })\r\n          .catch(() => {\r\n            resolve({\r\n              status: \"fail\",\r\n              error: \"上传失败，请检查文件是否符合规范\",\r\n            });\r\n          });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.upload-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachUploadDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachUploadDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachUploadDialog.vue?vue&type=template&id=65d582b0&scoped=true&\"\nimport script from \"./AttachUploadDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachUploadDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachUploadDialog.vue?vue&type=style&index=0&id=65d582b0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65d582b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('t-drawer',{attrs:{\"header\":\"附件详情\",\"visible\":_vm.visible,\"onClose\":_vm.close,\"closeBtn\":true,\"size\":\"480px\",\"zIndex\":2600,\"onOverlayClick\":_vm.close,\"placement\":\"right\"},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('t-button',{on:{\"click\":_vm.deleteAttach}},[_vm._v(\"删除\")])]},proxy:true}])},[(_vm.attachment)?_c('t-list',{attrs:{\"split\":true}},[_c('t-list-item',[_c('t-list-item-meta',{attrs:{\"title\":\"附件名\"}}),_vm._v(\" \"+_vm._s(_vm.attachment.fileName)+\" \")],1),_c('t-list-item',[_c('t-list-item-meta',{attrs:{\"title\":\"存储位置\"}}),_vm._v(\" \"+_vm._s(_vm.attachmentStorageType)+\" \")],1),_c('t-list-item',[_c('t-list-item-meta',{attrs:{\"title\":\"图片大小\"}}),_vm._v(\" \"+_vm._s(_vm.attachment.size)+\" \")],1),_c('t-list-item',[_c('t-list-item-meta',{attrs:{\"title\":\"图片尺寸\"}}),_vm._v(\" \"+_vm._s(_vm.attachment.height)+\" x \"+_vm._s(_vm.attachment.width)+\" \")],1),_c('t-list-item',[_c('t-list-item-meta',{attrs:{\"title\":\"上传日期\"}}),_vm._v(\" \"+_vm._s(_vm.attachment.uploadTime)+\" \")],1),_c('t-list-item',{scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('t-button',{attrs:{\"variant\":\"text\",\"shape\":\"square\"},on:{\"click\":_vm.copyURL}},[_c('file-copy-icon')],1)]},proxy:true}],null,false,320530126)},[_c('t-list-item-meta',{attrs:{\"title\":\"图片链接\"}}),_vm._v(\" \"+_vm._s(_vm.attachment.url)+\" \")],1),_c('t-list-item',{scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('t-button',{attrs:{\"variant\":\"text\",\"shape\":\"square\"},on:{\"click\":_vm.copyMarkdown}},[_c('file-copy-icon')],1)]},proxy:true}],null,false,765174242)},[_c('t-list-item-meta',{attrs:{\"title\":\"Markdown 链接\"}}),_vm._v(\" ![\"+_vm._s(_vm.attachment.fileName)+\"](\"+_vm._s(_vm.attachment.url)+\") \")],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <t-drawer\r\n      header=\"附件详情\"\r\n      :visible=\"visible\"\r\n      :onClose=\"close\"\r\n      :closeBtn=\"true\"\r\n      size=\"480px\"\r\n      :zIndex=\"2600\"\r\n      :onOverlayClick=\"close\"\r\n      placement=\"right\"\r\n    >\r\n      <t-list :split=\"true\" v-if=\"attachment\">\r\n        <t-list-item>\r\n          <t-list-item-meta title=\"附件名\"></t-list-item-meta>\r\n          {{ attachment.fileName }}\r\n        </t-list-item>\r\n        <t-list-item>\r\n          <t-list-item-meta title=\"存储位置\"></t-list-item-meta>\r\n          {{ attachmentStorageType }}\r\n        </t-list-item>\r\n        <t-list-item>\r\n          <t-list-item-meta title=\"图片大小\"></t-list-item-meta>\r\n          {{ attachment.size }}\r\n        </t-list-item>\r\n        <t-list-item>\r\n          <t-list-item-meta title=\"图片尺寸\"></t-list-item-meta>\r\n          {{ attachment.height }} x {{ attachment.width }}\r\n        </t-list-item>\r\n        <t-list-item>\r\n          <t-list-item-meta title=\"上传日期\"></t-list-item-meta>\r\n          {{ attachment.uploadTime }}\r\n        </t-list-item>\r\n        <t-list-item>\r\n          <t-list-item-meta title=\"图片链接\"></t-list-item-meta>\r\n          {{ attachment.url }}\r\n          <template #action>\r\n            <t-button variant=\"text\" shape=\"square\" @click=\"copyURL\"\r\n              ><file-copy-icon\r\n            /></t-button>\r\n          </template>\r\n        </t-list-item>\r\n        <t-list-item>\r\n          <t-list-item-meta title=\"Markdown 链接\"></t-list-item-meta>\r\n          ![{{ attachment.fileName }}]({{ attachment.url }})\r\n          <template #action>\r\n            <t-button variant=\"text\" shape=\"square\" @click=\"copyMarkdown\"\r\n              ><file-copy-icon\r\n            /></t-button>\r\n          </template>\r\n        </t-list-item>\r\n      </t-list>\r\n      <template #footer>\r\n        <t-button @click=\"deleteAttach\">删除</t-button>\r\n      </template>\r\n    </t-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { FileCopyIcon } from \"tdesign-icons-vue\";\r\nexport default {\r\n  name: \"AttachDetailDrawer\",\r\n  data() {\r\n    return {\r\n      attachment: {},\r\n      visible: false,\r\n    };\r\n  },\r\n  computed: {\r\n    attachmentStorageType() {\r\n      switch (this.attachment.type) {\r\n        case 0:\r\n          return \"本地\";\r\n        default:\r\n          return \"未知\";\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    open(attachment) {\r\n      this.visible = true;\r\n      this.attachment = attachment;\r\n    },\r\n    close() {\r\n      this.visible = false;\r\n    },\r\n    deleteAttach() {\r\n      this.$message.info(\"未实现\");\r\n    },\r\n    copyURL() {\r\n      this.$copyText(this.attachment.url);\r\n      this.$message.success(\"已复制\");\r\n    },\r\n    copyMarkdown() {\r\n      this.$copyText(`![${this.attachment.fileName}](${this.attachment.url})`);\r\n      this.$message.success(\"已复制\");\r\n    },\r\n  },\r\n  components: { FileCopyIcon },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.image-wrapper {\r\n  margin: 0 auto;\r\n  justify-content: center;\r\n  img {\r\n    height: 175px;\r\n    align-items: center;\r\n    margin: 0 auto;\r\n    border-radius: 2px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachDetailDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachDetailDrawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachDetailDrawer.vue?vue&type=template&id=6fcb340a&scoped=true&\"\nimport script from \"./AttachDetailDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachDetailDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachDetailDrawer.vue?vue&type=style&index=0&id=6fcb340a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fcb340a\",\n  null\n  \n)\n\nexport default component.exports","import { _ as _defineProperty } from '../_chunks/dep-f1f55b48.js';\nimport { _ as _objectWithoutProperties } from '../_chunks/dep-8baf22ba.js';\nimport Vue from 'vue';\nimport IconBase from '../icon.js';\nimport useSizeProps from '../utils/use-size-props.js';\nimport 'classnames';\nimport '../style/css.js';\nimport '../utils/use-common-classname.js';\nimport '../utils/config-context.js';\n\nvar _excluded = [\"size\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar element = {\n  \"tag\": \"svg\",\n  \"attrs\": {\n    \"fill\": \"none\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"1em\",\n    \"height\": \"1em\"\n  },\n  \"children\": [{\n    \"tag\": \"path\",\n    \"attrs\": {\n      \"fill\": \"currentColor\",\n      \"d\": \"M7.5 12V6.5h1V12h-1zM8.6 4H7.4v1.2h1.2V4z\",\n      \"fillOpacity\": 0.9\n    }\n  }, {\n    \"tag\": \"path\",\n    \"attrs\": {\n      \"fill\": \"currentColor\",\n      \"d\": \"M1 8a7 7 0 1014 0A7 7 0 001 8zm1 0a6 6 0 1112 0A6 6 0 012 8z\",\n      \"fillOpacity\": 0.9\n    }\n  }]\n};\nvar InfoCircle = Vue.extend({\n  name: \"InfoCircleIcon\",\n  functional: true,\n  props: {\n    size: {\n      type: String\n    },\n    onClick: {\n      type: Function\n    }\n  },\n  render: function render(createElement, context) {\n    var props = context.props,\n        data = context.data;\n\n    var size = props.size,\n        otherProps = _objectWithoutProperties(props, _excluded);\n\n    var _useSizeProps = useSizeProps(size),\n        className = _useSizeProps.className,\n        style = _useSizeProps.style;\n\n    var fullProps = _objectSpread(_objectSpread({}, otherProps || {}), {}, {\n      id: \"info-circle\",\n      icon: element,\n      staticClass: className,\n      style: style\n    });\n\n    data.props = fullProps;\n    return createElement(IconBase, data);\n  }\n});\n\nexport { InfoCircle as default };\n//# sourceMappingURL=info-circle.js.map\n","<template>\r\n  <div>\r\n    <t-drawer\r\n      header=\"附件列表\"\r\n      :visible=\"visible\"\r\n      :onClose=\"close\"\r\n      :closeBtn=\"true\"\r\n      size=\"400px\"\r\n      :zIndex=\"2600\"\r\n      :onOverlayClick=\"close\"\r\n      placement=\"right\"\r\n    >\r\n      <div class=\"images-wrapper\">\r\n        <div\r\n          class=\"image-item\"\r\n          :style=\"selectedIndex[index] ? { border: '5px solid #1890ff' } : {}\"\r\n          v-for=\"(attach, index) in attachments\"\r\n          :key=\"attach.id\"\r\n          @click=\"handleSelect(attach, index)\"\r\n          @mouseenter=\"mouseEnter(index)\"\r\n          @mouseleave=\"mouseLeave(index)\"\r\n        >\r\n          <img :src=\"attach.url\" />\r\n          <div class=\"image-item-mask\" v-show=\"maskVisible[index]\">\r\n            <div @click.stop=\"handlePreview(attach)\">\r\n              <BrowseIcon style=\"cursor: pointer\" />\r\n            </div>\r\n            <t-divider layout=\"vertical\" />\r\n            <div @click.stop=\"handleDetail(attach)\">\r\n              <InfoCircleIcon style=\"cursor: pointer\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <template #footer>\r\n        <t-button @click=\"onClickUpload\">\r\n          <UploadIcon slot=\"icon\" />\r\n          上传附件\r\n        </t-button>\r\n        <span class=\"complete-button\" v-if=\"mode === 'multiple'\">\r\n          <t-button\r\n            theme=\"danger\"\r\n            @click=\"onClickComplete\"\r\n            v-if=\"selectedAttaches.length > 0\"\r\n          >\r\n            完成\r\n          </t-button>\r\n          <t-button theme=\"danger\" v-else disabled>完成</t-button>\r\n        </span>\r\n      </template>\r\n    </t-drawer>\r\n    <AttachDetailDrawer ref=\"attachDetailDrawer\"></AttachDetailDrawer>\r\n    <AttachUploadDialog\r\n      ref=\"attachUploadDialog\"\r\n      @uploadSuccess=\"syncData\"\r\n    ></AttachUploadDialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AttachUploadDialog from \"@/components/attachment/AttachUploadDialog.vue\";\r\nimport AttachDetailDrawer from \"@/components/attachment/AttachDetailDrawer.vue\";\r\nimport { InfoCircleIcon, BrowseIcon, UploadIcon } from \"tdesign-icons-vue\";\r\nexport default {\r\n  name: \"AttachSelectDrawer\",\r\n  data() {\r\n    return {\r\n      num: 0,\r\n      visible: false,\r\n      attachments: [],\r\n      maskVisible: [],\r\n      selectedIndex: [],\r\n      selectedAttaches: [],\r\n    };\r\n  },\r\n  props: {\r\n    mode: {\r\n      type: String,\r\n      required: false,\r\n      default: \"single\",\r\n    },\r\n  },\r\n  methods: {\r\n    open(num = 0) {\r\n      this.num = num;\r\n      this.visible = true;\r\n    },\r\n    close() {\r\n      this.visible = false;\r\n      this.selectedIndex = this.selectedIndex.map(() => false);\r\n      this.selectedAttaches = [];\r\n    },\r\n    onClickUpload() {\r\n      this.$refs.attachUploadDialog.open();\r\n    },\r\n    syncData() {\r\n      this.$request\r\n        .get(\"attachments\")\r\n        .then((res) => {\r\n          if (res.status === 0) {\r\n            this.attachments = res.data.list ? res.data.list : [];\r\n          }\r\n          this.maskVisible = this.attachments.map(() => false);\r\n          this.selectedIndex = this.attachments.map(() => false);\r\n        })\r\n        .catch(() => {\r\n          this.$message.error(\"获取附件列表失败\");\r\n        });\r\n    },\r\n    mouseEnter(index) {\r\n      this.$set(this.maskVisible, index, true);\r\n    },\r\n    mouseLeave(index) {\r\n      this.$set(this.maskVisible, index, false);\r\n    },\r\n    handleDetail(attach) {\r\n      this.$refs.attachDetailDrawer.open(attach);\r\n    },\r\n    handlePreview(attach) {\r\n      this.$viewerApi({\r\n        images: [attach.url],\r\n      });\r\n    },\r\n    handleSelect(attach, index) {\r\n      if (this.mode === \"single\") {\r\n        this.$emit(\"select\", attach);\r\n        this.close();\r\n      }\r\n      if (this.num != 0 && this.num <= this.selectedAttaches.length) {\r\n        this.$message.warning(\"最多只能选择\" + this.num + \"个附件\");\r\n        return;\r\n      }\r\n      this.$set(this.selectedIndex, index, !this.selectedIndex[index]);\r\n      if (this.selectedIndex[index]) {\r\n        this.selectedAttaches.push(attach);\r\n      } else {\r\n        this.selectedAttaches.splice(this.selectedAttaches.indexOf(attach), 1);\r\n      }\r\n    },\r\n    onClickComplete() {\r\n      this.$emit(\"select\", this.selectedAttaches);\r\n      this.close();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.syncData();\r\n  },\r\n  components: {\r\n    AttachUploadDialog,\r\n    AttachDetailDrawer,\r\n    InfoCircleIcon,\r\n    BrowseIcon,\r\n    UploadIcon,\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"@/style/variables\";\r\n.images-wrapper {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  .image-item {\r\n    background-color: @bg-color-secondarycontainer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n    width: 160px;\r\n    height: 160px;\r\n    margin: 0 10px 20px 10px;\r\n    border: 1px solid @border-level-2-color;\r\n    img {\r\n      max-width: 100%;\r\n      max-height: 100%;\r\n      margin: auto;\r\n    }\r\n    .image-item-mask {\r\n      background-color: @text-color-secondary;\r\n      color: @bg-color-container;\r\n      transition: all 0.2s linear;\r\n      will-change: transform;\r\n      opacity: 0;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      top: 0;\r\n      bottom: 0;\r\n      &:hover {\r\n        opacity: 1;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.complete-button {\r\n  float: right;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachSelectDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachSelectDrawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachSelectDrawer.vue?vue&type=template&id=12cc894a&scoped=true&\"\nimport script from \"./AttachSelectDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachSelectDrawer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachSelectDrawer.vue?vue&type=style&index=0&id=12cc894a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12cc894a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}